package com.jboss.soa.esb.routing.cbr

import org.jboss.soa.esb.message.Message;
import org.jboss.soa.esb.message.format.MessageType;

expander XPathLanguage.dsl

global java.util.List destinations;

rule "Hello Routing Rule"
	when
		xpathMatch expr "/soapenv:Envelope/soapenv:Body/hello:sayHello" use namespaces "soapenv=http://schemas.xmlsoap.org/soap/envelope/,hello=http://webservice_proxy_routed/hello"
	then
		Log : "Routing to Hello...";
		Destination : "hello";
end

rule "Goodbye Routing Rule"
	when
		xpathMatch expr "/soapenv:Envelope/soapenv:Body/goodbye:sayGoodbye" use namespaces "soapenv=http://schemas.xmlsoap.org/soap/envelope/,goodbye=http://webservice_proxy_routed/goodbye"
	then
		Log : "Routing to Goodbye...";
		Destination : "goodbye";
end
