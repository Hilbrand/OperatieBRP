brpdatabase:
  image: $docker_registry/migr-tools-brp-database
  net: "migr"
  ports:
    - "5432:5432"
  environment:
    - "affinity:rol=db"

brproutering:
  image: $docker_registry/migr-tools-brp-routering
  net: "migr"
  ports:
    - "61616:61616"
    - "11990:11990"
  environment:
    - "JMX_HOST=192.168.99.100"
    - "JMX_PORT=11990"
    - "affinity:rol=app"

mailbox:
  image: $docker_registry/migr-tools-mailbox
  net: "migr"
  ports:
    - "1599:1599"
    - "1212:1212"
  environment:
    - "JMX_HOST=192.168.99.100"
    - "JMX_PORT=1599"
    - "affinity:rol=app"

routeringdatabase:
  image: $docker_registry/migr-routering-database
  net: "migr"
  ports:
    - "5532:5432"
  environment:
    - "affinity:rol=db"

routering:
  image: $docker_registry/migr-routering-runtime
  net: "migr"
  ports:
    - "1199:1199"
    - "61617:61616"
  environment:
    - "ROUTERING_DB_ENV_HOSTNAME=routeringdb.migr"
    - "ROUTERING_DB_ENV_PORT=5432"
    - "ROUTERING_DB_ENV_NAME=routering"
    - "ROUTERING_DB_ENV_USERNAME=migratie"
    - "ROUTERING_DB_ENV_PASSWORD=M1gratie"
    - "JMX_HOST=192.168.99.100"
    - "JMX_PORT=1199"
    - "affinity:rol=app"

synchronisatie:
  image: $docker_registry/migr-synchronisatie-runtime
  net: "migr"
  ports:
    - "1799:1799"
  environment:
    - "BRP_DB_ENV_HOSTNAME=brpdb.migr"
    - "BRP_DB_ENV_PORT=5432"
    - "BRP_DB_ENV_NAME=brp"
    - "BRP_DB_ENV_USERNAME=migratie"
    - "BRP_DB_ENV_PASSWORD=M1gratie"
    - "ROUTERING_ENV_HOSTNAME=routering.migr"
    - "ROUTERING_ENV_PORT=61616"
    - "BRPROUTERING_ENV_HOSTNAME=brproutering.migr"
    - "BRPROUTERING_ENV_PORT=61616"
    - "JMX_HOST=192.168.99.100"
    - "JMX_PORT=1799"
    - "affinity:rol=app"

iscdatabase:
  image: $docker_registry/migr-isc-database
  net: "migr"
  ports:
    - "5732:5432"
  environment:
    - "affinity:rol=db"

isc:
  image: $docker_registry/migr-isc-runtime
  net: "migr"
  ports:
    - "1099:1099"
  environment:
    - "ISC_DB_ENV_HOSTNAME=iscdb.migr"
    - "ISC_DB_ENV_PORT=5432"
    - "ISC_DB_ENV_NAME=isc"
    - "ISC_DB_ENV_USERNAME=migratie"
    - "ISC_DB_ENV_PASSWORD=M1gratie"
    - "ROUTERING_ENV_HOSTNAME=routering.migr"
    - "ROUTERING_ENV_PORT=61616"
    - "JMX_HOST=192.168.99.100"
    - "JMX_PORT=1099"
    - "affinity:rol=app"

iscconsole:
  image: $docker_registry/migr-isc-console
  net: "migr"
  ports:
    - "8080:8080"
  environment:
    - "ISC_DB_ENV_HOSTNAME=iscdb.migr"
    - "ISC_DB_ENV_PORT=5432"
    - "ISC_DB_ENV_NAME=isc"
    - "ISC_DB_ENV_USERNAME=migratie"
    - "ISC_DB_ENV_PASSWORD=M1gratie"
    - "affinity:rol=db"

voiscdatabase:
  image: $docker_registry/migr-voisc-database
  net: "migr"
  ports:
    - "5632:5432"
  environment:
    - "affinity:rol=db"

voisc:
  image: $docker_registry/migr-voisc-runtime
  net: "migr"
  links:
    - "voiscdatabase:voisc_db"
    - routering
    - mailbox
  ports:
    - "1399:1399"
  environment:
    - "VOISC_DB_ENV_HOSTNAME=voiscdb.migr"
    - "VOISC_DB_ENV_PORT=5432"
    - "VOISC_DB_ENV_NAME=isc"
    - "VOISC_DB_ENV_USERNAME=migratie"
    - "VOISC_DB_ENV_PASSWORD=M1gratie"
    - "ROUTERING_ENV_HOSTNAME=routering.migr"
    - "ROUTERING_ENV_PORT=61616"
    - "MAILBOX_ENV_HOSTNAME=mailbox.migr"
    - "MAILBOX_ENV_PORT=1212"
    - "JMX_HOST=192.168.99.100"
    - "JMX_PORT=1399"
    - "affinity:rol=app"
